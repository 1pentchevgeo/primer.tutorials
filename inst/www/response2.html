<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">



<!-- was originally jsp/services.jsp -->
<html>
    <head>    
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>BISON API</title>
        <style type="text/css">
            .olControlAttribution {
                bottom: 0px !important
            }
            /* avoid pink tiles */
            .olImageLoadError {
                background-color: transparent !important;
            }

            .param {
                margin-bottom: 10px;
            }
            #apiWrapper {
                width: 100%;
                text-align: center;
            }
            #apiDisplay {
                width: 920px;
                margin: auto;
                padding: 20px;
                text-align: left;
            }
            ul {
                list-style: none;
            }
            .common {
                font-family: Arial, Helvetica, sans-serif;
            }
            .code {
                font-family: "Lucida Console", Monaco, monospace;
                background-color: #CCC;
                padding: 20px;
            }
            h3 {
                color: #2A436F;
            }
            a h3 {
                color: inherit;
            }
            .codeTable {
                table-layout: fixed;
                width: 100%
            }
            .codeTable td {
                padding: 4px;
            }
            #occRecordTable td, #occRecordTable th {
                padding: 4px;
                vertical-align: top;
            }
        </style>
    </head>

    <body>
        <noscript>
        <br/>
        <br/>
        <div style="background-color: red; text-align: center; color: white;">
            <br/>
            <b>This page uses JavaScript.<br/>Your browser either
                does not support JavaScript or you have it turned off.<br/> To
                see this page as it is meant to appear please use a JavaScript
                enabled browser.</b>
            <br/>
            <br/>
        </div>
        <br/>
        <br/>
        </noscript>

        <!-- BEGIN Page Content -->
        <div id='apiWrapper'>
            <div id="apiDisplay">
                <div>
                    <h4>Notice:</h4>
                    <p>
                        The BISON Web Service <abbr title="Application Programming Interfaces">APIs</abbr> have been updated.  A summary of the enhancements to the APIs include:
                    </p>
                    <ul>
                        <li>The OGC WMS API includes changes to parameter values and additional parameters.</li>
                        <li>The OpenSearch API includes changes to parameter values and additional parameters.</li>
                        <li>The Solr API schema has changed; including modified parameter names and new parameters.</li>
                    </ul>						
                </div>
                <p>BISON supports several data interchange formats to enable developers to write custom applications.  
                    The BISON and Solr search APIs support <a href="http://www.json.org/" target="_blank"> JavaScript Object Notation (JSON)</a> 
                    and <a href="http://www.json-p.org/" target="_blank">JSON with Padding (JSONP)</a>.  
                    The Web Mapping Services support <a href="http://www.libpng.org/pub/png/" target="_blank">Portable Network Graphics (PNG) </a>.  
                    The web services APIs (OpenSearch & WMS) do not provide the ability to disambiguate species as does the BISON web based UI.  
                    When homonyms (names that map to multiple TSNs)  exist for either a common name or scientific name OpenSearch or WMS search, 
                    a combined query is performed (e.g. Ficus maps to TSNs 73159 and 19081).  The resulting combined web service query will 
                    return results that include either TSN.
                    Example <a href="#examples">applications</a> have been written using OpenLayers, and HTML 5 and we are working on mobile applications that will be available shortly.
                </p>
                <hr>
                <div>
                    <ul id="apiLinkList">
                        <li>
                            <a href="#opensearch">
                                <h3>BISON Search</h3>
                            </a>
                        </li>
                        <li>
                            <a href="#mapservice">
                                <h3>Web Map Service (WMS)</h3>
                            </a>
                        </li>
                        <li>
                            <a href="#paramsArg">
                                <h3>Extended Search 'params' Argument</h3>
                            </a>
                        </li>
                        <li>
                            <a href="#rest">
                                <h3>REST API</h3>
                            </a>
                        </li>
                        <li>
                            <a href="#provResourceIdentifiers">
                                <h3>Provider and Resource Identifiers</h3>
                            </a>
                        </li>
                        <li>
                            <a href="#dataProvStatsAPI">
                                <h3>Provider Statistics API</h3> 
                            </a>
                        </li>
                        <li>
                            <a href="#solr">
                                <h3>Apache Solr API</h3>
                            </a>
                        </li>
                        <li>
                            <a href="#data">
                                <h3>Data Use Agreement</h3>
                            </a>
                        </li>
                    </ul>

                    <hr>

                    <div>
                        <div>
                            <a name="opensearch">
                            </a>
                            <h2>BISON Search:</h2>
                            <p>BISON can be searched using an OpenSearch API.
                                Here's an example of how to pass a search term to the BISON Service</p>
                            <p class="code">
                                https://bison.usgs.gov/api/search.json?species=<b><i>Bison bison</i></b>&amp;type=<b>scientific_name</b>&amp;start=0&amp;count=1
                            </p>
                            <p> Using the 'search.json?' as in the above example will provide a response formatted as JSON.
                                Using 'search.jsonp?' with the callback parameter will provide a response formatted as JSONP.
                                The response will include the number of occurrences in each county and state in the United States and Canada.
                                It will also return a legend and the exact location of the first occurrence in Solr. 
                                This API is limited to returning a maximum of 1000 records at a time. 
                                If larger sets are needed we recommend using the <a href="#solr">Solr API</a> with pagination.
                            </p>

                            <h4>Search Parameters:</h4>
                            <div class="param">
                                <b>
                                    <i>species</i>
                                </b> = Specifies the species search term. Example: <b>
                                    <i>Bison bison</i>
                                </b>
                            </div>
                            <div class="param">
                                <b>
                                    <i>type</i>
                                </b> = Specifies the species name type (REQUIRED, if parameter species is used). Example: <i>
                                    <b>scientific_name</b> or <b>common_name</b>
                                </i>.</div>
                            <div class="param">
                                <b>
                                    <i>itis</i>
                                </b> = Turns on itis enabled search. Example: <i>
                                    <b>itis</b>
                                </i>.</div>
                            <div class="param">
                                <b>
                                    <i>tsn</i>
                                </b> = Specifies the TSN to query by. Example:<i>
                                    <b>162003</b>
                                </i>
                            </div>
                            <div class="param">
                                <b>
                                    <i>state</i>
                                </b> = Specifies the textual state name to geographically constrain the search. Example: <b>
                                    <i>Tennessee</i>
                                </b>.</div>
                            <div class="param">
                                <b>
                                    <i>countyFips</i>
                                </b> = Specifies the county fips code to geographically constrain the search to one county. Example: <b>
                                    <I>49015</I>
                                </b>.</div> 
                            <div class="param">
                                <b>
                                    <i>aoi</i>
                                </b> = Specifies a WKT (Well-Known Text) polygon to geographically constrain the search. 
                                Example:
                                <p class="code">
                                    POLYGON((-111.06360117772908 38.84001566645886,-110.80542246679359 39.37707771107983,-110.20117441992392 39.17722368276862,-110.20666758398464 38.90844075244811,-110.63513438085685 38.67724220095734,-111.06360117772908 38.84001566645886)),
                                </p>
                                which calls up the occurrences within the specified area.
                            </div>

                            <div class="param">
                                <b>
                                    <i>aoibbox</i>
                                </b> = Specifies a four-sided bounding box to geographically constrain the search using format:
                                <p class="code">minx,miny,maxx,maxy</p>. 
                                The coordinates are Spherical Mercator with a datum of WGS84.
                                Example:
                                <p class="code">-111.31079356054,38.814339278134,-110.57470957617,39.215537729772</p>
                            </div>
                            <div class="param">
                                <b>
                                    <i>start</i>
                                </b> = Specifies the offset position for a query enabling pagination of the result set. Default: <I>
                                    <b>0</b>
                                </I>.</div>
                            <div class="param">
                                <b>
                                    <i>count</i>
                                </b> = Specifies the total number of results to return. An error will be returned if the maximum is exceeded. <I>Default: <b>25</b> <I> Maximum: <b>500</b>
                                </I>.</div>
                            <div class="param">
                                <b>
                                    <i>callback</i>
                                </b> = Specifies the function to wrap the JSON response in to produce JSONP. Only relevant when using the 'search.jsonp?' target.</div>
                            <div class="param">
                                <b>
                                    <i>params</i>
                                </b> = Supports extended query parameters.  See the <a href="#paramsArg">params</a> section for details.</div>
                            A response to a BISON Search may be in JSON format. 
                            When the information is unavailable in the record the field and data are not returned to facilitate fast response times.
                            An <b> Example Response </b> follows:
                            <br/>
                            <br/>
                            <div class="code">
                                <pre>
{
	"total":0,                       // Total # of Results found
	"georeferenced":0,               // Total # with lat/lon values
	"species":"species name",        // (Optional) Species specified
	"occurrences":{"legend":{}},     // Information pertaining to point statistics
	"counties":{"total":0},          // Information pertaining to county statistics (results per county)
	"states":{"total":0},            // Information pertaining to state statistics (results per state)
	"searchTime":3063,               // Search time on server in milliseconds
	"type":"scientific_name",        // Included only when species was specified in the search
	"offset":0,                      // the offset from the beginning of the search allowing the 
                                         //     result set to be paginated.
	"data":[                         // The data set returned
		{
			"occurrenceID":"14385",                           // The ID of the record
			"geo":"Yes",                            // Is the record GeoReferenced?
			"basis":"Observation",                  // Basis of record type
			"name":"Baeolophus bicolor",            // Scientific name
			"decimalLatitude":"23.5473",                   // The decimal latitude
			"decimalLongitude":"-34.5434",                 // The decimal longitude
			"common_name":"Tufted Titmouse",        // Common name(s) -- comma separated
			"provider":"Avian Knowledge Network"    // Data provider
		}, ....
	],                      
	"itemsPerPage":1                 // The number of items in a page in a paginated response
}
                                </pre>
                            </div>
                        </div>

                        <div>
                            <a name="mapservice"></a>
                            <h2>Web Map Service (WMS):</h2>
                            <p>BISON WMS end points can be used to render BISON data in a mapping application such as OpenLayers. 
                                There are two WMS endpoints in BISON. The Heatmap WMS simply returns a heatmap of the search results.
                                The Species WMS endpoint returns a species occurrence map. At the moment, the GetCapabilities WMS is not supported
                                due to the non-standard nature of this WMS implementation. The Endpoint URLs are as follows:<br>
                                <br>
                                <b>Heatmap WMS:</b> https://bison.usgs.gov/api/heatmap/wms? <br>
                                <br>
                                <b>Species Occurrence WMS:</b> https://bison.usgs.gov/api/wms? <br>
                            <p>
                                Here's an example of a WMS request to the BISON API Service
                            </p>
                            <p class="code">
                                https://bison.usgs.gov/api/wms?LAYERS=species&amp;species=Pica pica&amp;type=scientific_name&amp;TRANSPARENT=true...
                                &amp;FORMAT=image%2Fpng&amp;SERVICE=WMS&amp;VERSION=1.1.1&amp;REQUEST=GetMap&amp;STYLES=&amp;SRS=EPSG%3A3857&amp;BBOX=-20037508.34,-1.862645149231e-9,-5009377.085,15028131.255&amp;WIDTH=512&amp;HEIGHT=512
                            </p>
                            <h4>Possible Search Parameters:</h4>
                            <div class="param">
                                <b>
                                    <i>REQUEST</i>
                                </b> = Specifies the OGC request type. (REQUIRED) <I>Example: <b>GetMap</b>
                                </I>. GetFeatureInfo and GetCapabilities are not supported at this time.</div>
                            <div class="param">
                                <b>
                                    <i>LAYERS</i>
                                </b> = Specifies the WMS layer to return. (REQUIRED) For the occurrence WMS, use <b>
                                    <I>species</I>
                                </b>. For the heatmap WMS, you can choose between <b>
                                    <U>county</U>
                                </b>, and <b>
                                    <I>state</I>
                                </b>.</div>
                            <div class="param">
                                <b>
                                    <i>TRANSPARENT</i>
                                </b> = Specifies whether the image should be rendered in a transparent space. (REQUIRED) <I>Example: <b>true</b> or <b>false</b>
                                </I>.</div>
                            <div class="param">
                                <b>
                                    <i>FORMAT</i>
                                </b> = Specifies the image format to return in the WMS. (REQUIRED) <I>Example: <b>image/png</b>
                                </I>.</div>
                            <div class="param">
                                <b>
                                    <i>SERVICE</i>
                                </b> = Specifies the OGC service type. (REQUIRED) <I>Example: <b>WMS</b>
                                </I>.</div>
                            <div class="param">
                                <b>
                                    <i>VERSION</i>
                                </b> = Specifies the OGC service version. (REQUIRED) <I>Example: <b>1.1.1</b>
                                </I>.</div>
                            <div class="param">
                                <b>
                                    <i>WIDTH</i>
                                </b> = Specifies the width of the image in pixels.(REQUIRED) <I>Example: <b>256</b>
                                </I>.</div>
                            <div class="param">
                                <b>
                                    <i>HEIGHT</i>
                                </b> = Specifies the height of the image in pixels. (REQUIRED) <I>Example: <b>256</b>
                                </I>.</div>
                            <div class="param">
                                <b>
                                    <i>BBOX</i>
                                </b> = Specifies the bounding box (minx,maxx, miny, maxy) of the image to be rendered (REQUIRED). This is different than the polygon AOI since the AOI may span multiple images.  Example:
                                <p class="code">-12366899.678594,4696291.0171875,-12210356.644688,4852834.0510937</p>
                                Coordinates must be in Web Mercator (Spherical Mercator with WGS 1984 as the Datum).
                            </div>

                            <div class="param">
                                <b>
                                    <i>SRS</i>
                                </b> = Specifies spatial reference system of the image. (REQUIRED) <I>The only supported value at this time is: <b>EPSG:3857</b>
                                </I>
                            </div>
                            <div class="param">
                                <b>
                                    <i>species</i>
                                </b> = Specifies the species search term. <i>Example: <b>Bison bison</b>
                                </i>
                            </div>
                            <div class="param">
                                <b>
                                    <i>type</i>
                                </b> = Specifies name type (REQUIRED, if parameter species is used.   Valid values are either <b>scientific_name</b> or <b>common_name</b>).</div>
                            <div class="param">
                                <b>
                                    <i>itis</i>
                                </b> = Turns on itis enabled search.  <i>Example: <b>itis</b>
                                </i>.</div>
                            <div class="param">
                                <b>
                                    <i>tsn</i>
                                </b> = Specifies the TSN to query by. <i>Example: <b>180604</b>
                                </i>.</div>
                            <div class="param">
                                <b>
                                    <i>state</i>
                                </b> = Specifies the textual state name to geographically constrain the search. <i>Example: <b>Tennessee</b>
                                </i>.</div>
                            <div class="param">
                                <b>
                                    <i>countyFips</i>
                                </b> = Specifies the county fips code to geographically constrain the search.  <i>Example: <b>49015</b>
                                </i>.  Multiple counties are comma separated.</div>
                            <div class="param">
                                <b>
                                    <i>aoi</i>
                                </b> = Specifies a WKT (Well-Known Text) polygon to geographically constrain the search. Example:
                                <p class="code">
                                    POLYGON((-111.06360117772908 38.84001566645886,-110.80542246679359 39.37707771107983,-110.20117441992392 39.17722368276862,-110.20666758398464 38.90844075244811,-110.63513438085685 38.67724220095734,-111.06360117772908 38.84001566645886)),
                                    which calls up the occurrences within specified area.
                                </p>
                            </div>
                            <div class="param">
                                <b>
                                    <i>aoibbox</i>
                                </b> = Specifies a four-sided bounding box to geographically constrain the search using format:
                                <p class="code">minx,miny,maxx,maxy</p>
                                Example:
                                <p class="code">-111.31079356054,38.814339278134,-110.57470957617,39.215537729772</p>
                            </div>
                            <div class="param">
                                <b>
                                    <i>params</i>
                                </b> = Supports extended query parameters.  See the <a href="#paramsArg">params</a> section for details.</div>
                        </div>					

                        <div>							
                            <a name="paramsArg">
                            </a>
                            <h2>Extended 'params' argument for WMS and OpenSearch</h2>
                            <br>
                            Extended query attributes are accessible using the 'params' argument.  This argument enables querying on some of the field described in the 
                            <a href="#solr">Solr</a> section of this page. The query-able field include:<p>
                            <ul>
                                <li>
                                    providerID
                                </li>
                                <li>
                                    resourceID
                                </li>
                                <li>
                                    basisOfRecord
                                </li>
                                <li>
                                    catalogNumber
                                </li>
                                <li>
                                    year
                                </li>
                                <li>
                                    computedStateFips
                                </li>
                                <li>
                                    hierarchy_homonym_string
                                </li>
                                <li>
                                    TSNs
                                </li>
                                <li>
                                    recordedBy
                                </li>
                                <li>
                                    occurrenceID
                                </li>
                                <li>
                                    collectorNumber
                                </li>
                                <li>
                                    provider
                                </li>
                                <li>
                                    ownerInstitutionCollectionCode
                                </li>
                                <li>
                                    eventDate
                                </li>
                                <li>
                                    providedScientificName
                                </li>
                                <li>
                                    scientificName
                                </li>
                                <li>
                                    ITISscientificName
                                </li>
                                <li>
                                    providedCommonName
                                </li>
                                <li>
                                    ITIScommonName
                                </li>
                                <li>
                                    kingdom
                                </li>
                                <li>
                                    ITIStsn
                                </li>
                                <li>
                                    centroid
                                </li>
                                <li>
                                    higherGeographyID
                                </li>
                                <li>
                                    computedCountyFips
                                </li>
                                <li>
                                    providedCounty
                                </li>
                                <li>
                                    calculatedCounty
                                </li>
                                <li>
                                    stateProvince
                                </li>
                                <li>
                                    calculatedState
                                </li>
                                <li>
                                    countryCode
                                </li>
                            </ul>
                            For example, you may get results specifically for a provider or resource:<br />
                            <ul>
                                <li>
                                    providerID:("edd92410-ac77-11de-90e0-b8a03c50a862") Find the provider with ID [edd92410-ac77-11de-90e0-b8a03c50a862]. <br />
                                    resourceID:("865cd00a-f762-11e1-a439-00145eb45e9a" "84c1fa90-f762-11e1-a439-00145eb45e9a" ) Find all resources with id of '865cd00a-f762-11e1-a439-00145eb45e9a' OR '84c1fa90-f762-11e1-a439-00145eb45e9a', with values separated by spaces.<br />
                                </li>
                            </ul>
                            <br />
                            Criterion may be combined using the semicolon (';') character, which translates to a logical AND operator. 
                            Note that field names and values are case sensitive.
                            <br />
                            <ul>
                                <li>
                                    params=providerID:("6491ad8c-8e49-4bd4-a089-0ddb3bbe0890" "4cff2aca-5ce5-4028-88e6-d79b6449173a");resourceID("e8a25a42-f125-476c-8554-3ec21cd51a84")
                                </li>
                            </ul>
                            <br />
                            Many web browser will automatically handle encoding of the URL request, but some browsers (e.g. IE9) do not.  In this case it is necessary to manually encode the URL:
                            <br />
                            <ul>
                                <li>
                                    params=resourceID%3A(%22e8a25a42-f125-476c-8554-3ec21cd51a84%22+)%3B providerID%3A(%226491ad8c-8e49-4bd4-a089-0ddb3bbe0890%22+)
                                    <br />
                                </li>
                            </ul>
                            <center>
                                <table class="codeTable" border="1">
                                    <tr style="word-wrap: break-word">
                                        <td>
                                            The URI <a href='https://bison.usgs.gov/api/search.jsonp?params=resourceID%3A(%22865cd00a-f762-11e1-a439-00145eb45e9a%22+)'> https://bison.usgs.gov/api/search.jsonp?params=resourceID%3A(%22865cd00a-f762-11e1-a439-00145eb45e9a%22+)</a>
                                            can be used display occurrences with Resource ID of '865cd00a-f762-11e1-a439-00145eb45e9a'.
                                        </td>
                                    </tr>
                                    <tr style="word-wrap: break-word">
                                        <td>
                                            The URI <a href='https://bison.usgs.gov/api/search.jsonp?params=occurrenceID:(1033963806)'>https://bison.usgs.gov/api/search.jsonp?params=occurrenceID:(1033963806)</a> 
                                            will return the record with Occurrence ID 1033963806.
                                        </td>
                                    </tr>
                                    <tr style="word-wrap: break-word">
                                        <td>
                                            The URI <a href='https://bison.usgs.gov/api/wms?LAYERS=species&TRANSPARENT=true&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&STYLES=&TSN=174371&ITIS=itis&SRS=EPSG%3A3857&BBOX=-12664334.196143,3634261.2797526,-12276272.399098,4022323.0767977&WIDTH=256&HEIGHT=256&params=resourceID%3A(%22865cd00a-f762-11e1-a439-00145eb45e9a%22+)'>
                                                'https://bison.usgs.gov/api/wms?LAYERS=species&TRANSPARENT=true&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&STYLES=&TSN=174371&ITIS=itis&SRS=EPSG%3A3857&BBOX=-12664334.196143,3634261.2797526,-12276272.399098,4022323.0767977&WIDTH=256&HEIGHT=256&amp;params=resourceID%3A(%22865cd00a-f762-11e1-a439-00145eb45e9a%22+)'</a> 
                                            will display a WMS provided png showing Bird occurrences with a Resource ID of '318,1902' and Provider ID of '318'. 
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            The URI <a href='https://bison.usgs.gov/api/heatmap/wms?LAYERS=county&species=Buteo+jamaicensis&type=scientific_name&TRANSPARENT=true&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&STYLES=&SRS=EPSG%3A3857&BBOX=-8927745.4216059,4304416.2699315,-8438548.4717241,4793613.2198133&WIDTH=512&HEIGHT=512'>'https://bison.usgs.gov/api/heatmap/wms?LAYERS=county&species=Buteo+jamaicensis&type=scientific_name&TRANSPARENT=true&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&STYLES=&SRS=EPSG%3A3857&BBOX=-8927745.4216059,4304416.2699315,-8438548.4717241,4793613.2198133&WIDTH=512&HEIGHT=512'</a> 
                                            will display a WMS provided png showing a heatmap of Buteo jamaicensis occurrences matching the specified Provider IDs. 
                                        </td>
                                    </tr>
                                </table>
                            </center>
                            <br>
                            <br>
                        </div>									


                        <div>							
                            <a name="rest">
                            </a>
                            <h2>REST API</h2>
                            <br>
                            Access to BISON page search results is provided via a REST (Representational State Transfer) API. 
                            The response provided by this API is the BISON search page showing the results of the query represented in the REST URL.
                            The default REST search does not use <a href="https://www.itis.gov" target="_blank">ITIS</a> taxonomy. Below are some samples.
                            <p>
                            <table class="codeTable api-table" border="1">
                                <tr>
                                    <td>
                                        The URI <a href='https://bison.usgs.gov/index.jsp?scientificName=Poa annua'> https://bison.usgs.gov/index.jsp?scientificName=Poa annua</a> can be used display all of the bluegrasses.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        The URI <a href='https://bison.usgs.gov/index.jsp?scientificName=poa cusickii'>https://bison.usgs.gov/index.jsp?scientificName=poa cusickii</a> 
                                        will display Cusick's bluegrass.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        The URI <a href='https://bison.usgs.gov/index.jsp?scientificName=Poa&ITIS=itis'>https://bison.usgs.gov/index.jsp?scientificName=Poa&ITIS=itis</a> will display all of the bluegrass doing an <a href="https://www.itis.gov" target="_blank">ITIS</a> enabled search.</td>
                                </tr>
                            </table>
                            <br>
                            <br> 
                        </div>									
                        <div>							
                            <a name="provResourceIdentifiers">
                            </a>
                            <h2>Providers and Resources Identifiers</h2>
                            <br>
                            BISON allows users to access occurrence data based upon the providers and resources identifiers using unique stable identifiers.  
                            BISON has a REST API that allows users to query for information about providers and resources. Some sample URIs follow:
                            <p>
                            <table class="codeTable api-table" border="1">
                                <tr>
                                    <td>
                                        The URI <a href='https://bison.usgs.gov/api/providers/all' > https://bison.usgs.gov/api/providers/all</a> can be used retrieve provider information as a JSON object.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        The URI <a href='https://bison.usgs.gov/api/providers/details'>https://bison.usgs.gov/api/providers/details</a> 
                                        can retrieve information about both providers and resources as a JSON object.
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        The URI https://bison.usgs.gov/api/providers/{Provider Number}/resources can be used to retrieve information about
                                        the resources assigned to a particular provider. For example this URI will retrieve all of the resources from Provider 4fd82480-ea1c-11da-8db4-b8a03c50a862
                                        <a href='https://bison.usgs.gov/api/providers/4fd82480-ea1c-11da-8db4-b8a03c50a862/resources'>https://bison.usgs.gov/api/providers/4fd82480-ea1c-11da-8db4-b8a03c50a862/resources</a>.
                                    </td>
                                </tr>
                            </table>
                            <br>
                            <br>
                        </div>									
                        <div>
                            <a name="dataProvStatsAPI">
                            </a>
                            <h2>Data Provider Statistics API</h2>
                            <a href="./download/d/file/bison-PreviousYearProviderStatisticsAPIArchive_csv.zip" target="_blank" style="text-decoration:underline;font-size:110%;font-weight:bold;margin-top:2%;margin-bottom:3%;display:inline-block;font-style:normal;">Download Last Year's Statistics API Archive</a>
                            <br>

                            BISON exposes an API supporting access to Data Provider and Resource* based data access statistics.  
                            The BISON based UI for the Data Provider Statistics is accessible via a link on the Data Providers tab.  
                            The Statistics API is REST based and provides a JSON formatted response.  
                            Data Provider Statistics for data retrieval directly from the BISON Solr index are not currently available.<br>
                            *A single Data Provider may contribute multiple data Resources.  

                            <p>
                            <table class="codeTable api-table" border="1">
                                <left>
                                    <tr>
                                        <td>
                                            The URI <a href='https://bison.usgs.gov/api/statistics' > https://bison.usgs.gov/api/statistics</a> may be used to retrieve all Data Provider accumulated statistics as a JSON object.<br>  The URI <a href='https://bison.usgs.gov/api/statistics/all' > https://bison.usgs.gov/api/statistics/all</a> may also be used with the same effect.
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            The URI <a href='https://bison.usgs.gov/api/statistics/search'>https://bison.usgs.gov/api/statistics/search</a> 
                                            may be used to retrieve Data Provider statistics for BISON searches as a JSON object.
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            The URI <a href='https://bison.usgs.gov/api/statistics/download'>https://bison.usgs.gov/api/statistics/download</a> 
                                            may be used to retrieve Data Provider statistics for data downloads from BISON as a JSON object.
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            The URI <a href='https://bison.usgs.gov/api/statistics/wms'>https://bison.usgs.gov/api/statistics/wms</a> 
                                            may be used to retrieve Data Provider statistics for BISON OGC WMS tile requests as a JSON object.
                                        </td>
                                    </tr>
                                    <left/>
                            </table>
                            <br>
                            <br>
                        </div>									

                        <div>
                            <a name="solr">
                            </a>
                            <h2>Apache Solr API</h2>
                            <br>

                            BISON also has a Solr API supporting <a href="http://lucene.apache.org/solr/" target="_blank"> Apache Solr </a> which can be accessed at <a href="https://bison.usgs.gov/solr/occurrences/select/?q=*:*">https://bison.usgs.gov/solr/occurrences/select/?q=*:*</a>.    
                            The database has been modified to be <a href="http://rs.tdwg.org/dwc/" target="_blank">Darwin Core Compliant</a>.  To retrieve the first ten occurrence records from Solr you would need to type this query 
                            https://bison.usgs.gov/solr/occurrences/select/?q=*:*
                            More information can be found about Solr on the Apache website.
                            The Solr schema is defined below and does not support any native geospatial operators.  
                            BISON was written to optimize the performance of retrieving occurrence records, and after extensive design work, it was found that working with the raw spatial data and applying optimized mathematics was faster than Solr geospatial operators. For larger record set requests, we recommend using the BISON Solr API with pagination.
                            <p>
                                Most modern browsers will automatically <a href="http://www.rfc-editor.org/rfc/rfc1738.txt" target="_blank">URL encode</a> white space and other special characters that you enter on the URL line.
                                If you are calling Solr from javascript or another programming language you may be required to URL encode the query string.  More information can be found about URL encoding in <a href="http://www.rfc-editor.org/rfc/rfc1738.txt" target="_blank">RFC-1738.</a> 
                            </p>
                            <h2>Occurrence record schema (Core)</h2>
                            <table id="occRecordTable">
                                <tr>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Description</th>
                                </tr>
                                <tr>
                                    <td>decimalLatitude</td>
                                    <td>sfloat</td>
                                    <td>Geographic coordinate that specifies the north south position of a location on the Earth surface.</td>
                                </tr>
                                <tr>
                                    <td>decimalLongitude</td>
                                    <td>sfloat</td>
                                    <td>Geographic coordinate that specifies the east-west position of a location on the Earth surface.</td>
                                </tr>
                                <tr>
                                    <td>year</td>
                                    <td>sint</td>
                                    <td>The year the collection was taken.</td>
                                </tr>
                                <tr>
                                    <td>pointPath</td>
                                    <td>string</td>
                                    <td>A dynamic field that contains the location in longitude and latitude followed by the basis of record and an optional Geo (Spatial) precision.  Geo (Spatial) precision is an added descriptor when the record is a county centroid.</td>
                                </tr>
                                <tr>
                                    <td>providerID</td>
                                    <td>sint</td>
                                    <td>Unique identifier assigned by the <a href="http://www.gbif.org/" target="_blank">Global Biodiversity Information Facility</a> (GBIF) as we are working with them to make it persistent (stable) over time.</td>
                                </tr>
                                <tr>
                                    <td>resourceID</td>
                                    <td>string</td>
                                    <td>A unique identifier that is a concatentation of the provider identifier and the resource id seperated by a comma.</td>
                                <tr>
                                    <td>basisOfRecord</td>
                                    <td>string</td>
                                    <td>One of these enumerated values: Observation, Germplasm, Fossil, Specimen, Literature, Unknown, or Living.  </td>
                                </tr>
                                <tr>
                                    <td>eventDate</td>
                                    <td>string</td>
                                    <td>The date when the occurrence was recorded.</td>
                                </tr>
                                <tr>
                                    <td>verbatimEventDate</td>
                                    <td>string</td>
                                    <td>The original description of the date on which the observation or collection event occurred <strong>(Not currently available as a searchable field)</strong>.</td>
                                </tr>
                                <tr>
                                    <td>computedCountyFips</td>
                                    <td>string</td>
                                    <td>County FIPS code conforming to standard <a href="http://www.nist.gov/itl/fips.cfm" target="_blank">FIPS 6-4</a>.</td>
                                </tr>
                                <tr>
                                    <td>computedStateFips</td>
                                    <td>string</td>
                                    <td>County FIPS code conforming to standard <a href="http://www.nist.gov/itl/fips.cfm" target="_blank">FIPS 5-2</a>.</td>
                                </tr>
                                <tr>
                                    <td>scientificName</td>
                                    <td>string</td>
                                    <td>The Latin scientific name with rank indicators, authors and emendations removed. Referred to by GBIF as the canonical name.<td>
                                <tr>
                                    <td>hierarchy_homonym_string</td>
                                    <td>string</td>
                                    <td>A denormalized string of ITIS Taxonomic Identifiers (TSNs) representing the taxonomic classification hierarachy of the accepted or valid species name starting at kingdom.  
                                        If the name is a taxonomic homonym more than one string is provided seperated by ';'.</td>
                                </tr>
                                <tr>
                                    <td>TSNs</td>
                                    <td>string</td>
                                    <td>For each accepted or valid taxonomic name in ITIS that matches the current occurrence the TSN of the accepted or valid name is provided.
                                        If the name is a taxonmic homonym more than one TSN is provided.</td>
                                </tr>
                                <tr>
                                    <td>recordedBy</td>
                                    <td>string</td>
                                    <td>Individual responsible for the scientific record.</td>
                                </tr>
                                <tr>
                                    <td>occurrenceID</td>
                                    <td>string</td>
                                    <td>Non-persistent unique identifier.</td>
                                </tr>
                                <tr>
                                    <td>catalogNumber</td>
                                    <td>string</td>
                                    <td>A string generally passed on from the original provider or assigned in some BISON provided data sets in collaboration with the provider. It usually appears as an integer but often includes text and symbols as well.</td>
                                </tr>
                                <tr>
                                    <td>collectorNumber</td>
                                    <td>string</td>
                                    <td>An identifier given to the occurrence at the time it was recorded, such as a specimen collector's number. / "SJM030022".</td>
                                </tr>
                                <tr>
                                    <td>provider</td>
                                    <td>
                                    </td>
                                    <td>Non-persistent unique identifier.</td>
                                </tr>
                                <tr>
                                    <td>ownerInstitutionCollectionCode</td>
                                    <td>
                                    </td>
                                    <td>Name for the dataset, format = OwnerInstitution-Collection. / "USGS NAWQA BioData - Fish Occurrence Records"</td>
                                </tr>
                                <tr>
                                    <td>providedScientificName</td>
                                    <td>string</td>
                                    <td>Full scientific name as provided in the dataset, with authorship and date information if known.</td>
                                </tr>
                                <tr>
                                    <td>ITISscientificName</td>
                                    <td>string</td>
                                    <td>The current valid or accepted scientific name for a taxon, if available, according to the <a href="http://www.itis.gov/" target="_blank">Integrated Taxonomic Information System (ITIS)</a> / "Rhinella marina"</td>
                                </tr>
                                <tr>
                                    <td>providedCommonName</td>
                                    <td>string</td>
                                    <td>A list (concatenated and separated) of the available vernacular species names. / "common shrew, Masked Shrew"</td>
                                </tr>
                                <tr>
                                    <td>ITIScommonName</td>
                                    <td>string</td>
                                    <td>The common name(s) for a taxon, if available, according to the <a href="http://www.itis.gov/" target="_blank">Integrated Taxonomic Information System (ITIS)</a> / "Cane toad"</td>
                                </tr>
                                <tr>
                                    <td>kingdom</td>
                                    <td>string</td>
                                    <td>From GBIF raw occurrence or BISON provider.</td>
                                </tr>
                                <tr>
                                    <td>ITIStsn</td>
                                    <td>string</td>
                                    <td>Phase II: ITIS TSN corresponding to clean_provided_scientific_name. May be invalid,unaccepted. Calculated / "3250", "05713"</td>
                                </tr>
                                <tr>
                                    <td>geodeticDatum</td>
                                    <td>string</td>
                                    <td>The ellipsoid, geodetic datum, or spatial reference system (SRS) upon which the geographic coordinates given in decimalLatitude and decimalLongitude as based. Leave blank if no lat/lon provided, unknown if unknown <strong>(Not currently available as a searchable field)</strong>.</td>
                                </tr>
                                <tr>
                                    <td>coordinatePrecision</td>
                                    <td>
                                    </td>
                                    <td>A decimal representation of the precision of the coordinates given in the decimalLatitude and decimalLongitude <strong>(Not currently available as a searchable field)</strong>.</td>
                                </tr>
                                <tr>
                                    <td>coordinateUncertaintyInMeters</td>
                                    <td>
                                    </td>
                                    <td>The horizontal distance (in meters) from the given decimalLatitude and decimalLongitude describing the smallest circle containing the whole of the Location <strong>(Not currently available as a searchable field)</strong>.</td>
                                </tr>
                                <tr>
                                    <td>verbatimLocality</td>
                                    <td>string</td>
                                    <td>The original description of the location at which the observation or collection event occurred <strong>(Not currently available as a searchable field)</strong>.</td>
                                </tr>
                                <tr>
                                    <td>mrgid</td>
                                    <td>string</td>
                                    <td>Numeric text string code or Marine Region Identifier for the U.S. Marine Exclusive Economic Zone (EEZ) value in the calculatedWaterbody field <strong>(Not currently available as a searchable field)</strong>. / "8456000"</td>
                                </tr>
                                <tr>
                                    <td>calculatedWaterbody</td>
                                    <td>string</td>
                                    <td>Standard name for the U.S. Marine Exclusive Economic Zone (EEZ) in which the observation or collection event occurred <strong>(Not currently available as a searchable field)</strong>. / "US Pacific EEZ"</td>
                                </tr>
                                <tr>
                                    <td>establishmentMeans</td>
                                    <td>string</td>
                                    <td>A code indicating the process by which the species became established at the location (AK=nonnative in Alaska, HI=nonnative in Hawaii, L48=nonnative in the 48 contiguous United States). / "AK", "HI", "L48"</td>
                                </tr>
                                <tr>
                                    <td>verbatimElevation</td>
                                    <td>string</td>
                                    <td>The original description of the elevation (altitude, usually above sea level) of the Location <strong>(Not currently available as a searchable field)</strong>.</td>
                                </tr>
                                <tr>
                                    <td>verbatimDepth</td>
                                    <td>string</td>
                                    <td>The original description of the depth below the local surface <strong>(Not currently available as a searchable field)</strong>.</td>
                                </tr>
                                <tr>
                                    <td>centroid</td>
                                    <td>string</td>
                                    <td>Text string indicating that provided lat/lon point represents a polygon centroid.  Text provides description of the centroid.</strong>.</td>
                                </tr>
                                <tr>
                                    <td>higherGeographyID</td>
                                    <td>string</td>
                                    <td>5-digit numeric text string geographic code for the state-county combination provided by data provider. / "13029"</td>
                                </tr>
                                <tr>
                                    <td>providedCounty</td>
                                    <td>
                                    </td>
                                    <td>Full county, parish, or organized borough name, as provided in the dataset. If provided, Verbatum State is required. Is not changed during data ingest. / "Fairfax"</td>
                                </tr>
                                <tr>
                                    <td>calculatedCounty</td>
                                    <td>string</td>
                                    <td>Full county, parish, or organized borough name of the occurrence calculated. / "Fairfax"</td>
                                </tr>
                                <tr>
                                    <td>stateProvince</td>
                                    <td>string</td>
                                    <td>Full name of state or territory of the occurrence, as provided in the dataset.</td>
                                </tr>
                                <tr>
                                    <td>calculatedState</td>
                                    <td>string</td>
                                    <td>U.S. State or territory name calculated. / "Puerto Rico"</td>
                                </tr>
                                <tr>
                                    <td>countryCode</td>
                                    <td>string</td>
                                    <td>The geographic location of the specific occurrence, expressed through a constrained vocabulary of countries using 2-letter ISO country code.</td>
                                </tr>
                                <tr>
                                    <td>institutionID</td>
                                    <td>string</td>
                                    <td>The URL link to the provider of the data <strong>(Not currently available as a searchable field)</strong>.</td>
                                </tr>
                                <tr>
                                    <td>collectionID</td>
                                    <td>string</td>
                                    <td>URL link to the dataset . For BISON link to the IPT resource <strong>(Not currently available as a searchable field)</strong>.</td>
                                </tr>
                                <tr>
                                    <td>relatedResourceID</td>
                                    <td>string</td>
                                    <td>URL link to the occurrence record (where available). An identifier for a related resource (the object, rather than the subject of the relationship) <strong>(Not currently available as a searchable field)</strong>.</td>
                                </tr>
                                <tr>
                                    <td>thumbURL</td>
                                    <td>string</td>
                                    <td>URL link to a small version of a larger associatedMedia source file of the occurrence <strong>(Not currently available as a searchable field)</strong>.</td>
                                </tr>
                                <tr>
                                    <td>associatedMedia</td>
                                    <td>string</td>
                                    <td>URL identifier of media associated with the occurrence. Compatible formats of the URL's source file are any readable by a browser, such as jpg, png, gif, tif, mp3, wav, etc. If provided, is linked to a thumbnail image URL (Thumb URL) <strong>(Not currently available as a searchable field)</strong>.</td>
                                </tr>
                                <tr>
                                    <td>associatedReferences</td>
                                    <td>string</td>
                                    <td>A hyperlinked resource or reference associated with the occurrence, such as a sound or video file, pdf publication, or an html landing page with additional associated URLs <strong>(Not currently available as a searchable field)</strong>.</td>
                                </tr>
                                <tr>
                                    <td>generalComments</td>
                                    <td>string</td>
                                    <td>Free text field for comments that add pertinent information to the record but do not fall into available field categories <strong>(Not currently available as a searchable field)</strong>.</td>
                                </tr>
                                <tr>
                                    <td>license</td>
                                    <td>string</td>
                                    <td>A code or URL link to the Creative Commons license that applies to the species occurrence record <strong>(Not currently available as a searchable field)</strong>. / "CC_BY_NC_4_0", "http://creativecommons.org/publicdomain/zero/1.0/legalcode"</td>
                                </tr>

                            </table>

                            <br>
                            <h3>Common Name Schema</h3>
                            The common name index URI is located <a href="https://bison.usgs.gov/solr/vernacularName/select?q=*%3A*&wt=json&indent=true">here</a>.
                            It contains the common name from ITIS. 
                            <br>
                            <h3>Scientific Name Schema</h3>
                            The scientific name index URI is located <a href="https://bison.usgs.gov/solr/scientificName/select?q=*%3A*&wt=json&indent=true">here</a>.
                            The complete set of scientific names in the occurrence data set plus the taxonomic hierarchy upwards.
                        </div>
                        <hr>
                        <div>
                            <a name="data">
                            </a>
                            <h2>Data Use Agreement</h2>

                            <p>
                                Any use of BISON web services automatically commits the user to
                                acceptance of the Data Use Agreement.
                            </p>
                            <p>
                                Adapted from the Data Use Agreement of the <a href="http://www.gbif.org" target="_blank">Global Biodiversity
                                    Information Facility</a> (GBIF).
                            </p>
                            <p>
                                <b>Background</b>
                            </p>
                            <p>
                                Biodiversity Information Serving Our Nation (BISON) is committed to providing free and open access to species occurrence data. 
                                Data currently  available through BISON are provided through the <a href="http://www.gbif.org" target="_blank">Global Biodiversity
                                    Information Facility</a> (GBIF).  
                                GBIF Participants who have signed the GBIF Memorandum of Understanding have expressed their willingness to make biodiversity data available through their nodes to foster scientific research development internationally and to support the public use of
                                these data (see <a href="http://data.gbif.org/tutorial/datasharingagreement" target="_blank">http://data.gbif.org/tutorial/datasharingagreement</a>).
                                GBIF data sharing should take place within a framework of due attribution. 
                                Therefore, using data available through BISON requires agreement with the following:
                            </p>
                            <p>
                                <b>1. Data Use Agreements</b>
                            </p>
                            <p>
                                The quality and completeness of data cannot be guaranteed. Users employ these data at their own risk.
                                Users shall respect restrictions of access to sensitive data.  
                                In order to make attribution of use for owners of the data possible, the identifier of ownership of data must be retained with every data record.
                                Users must publicly acknowledge, in conjunction with the use of the data, the data publishers whose biodiversity data they have used. 
                                Data publishers may require additional attribution of specific collections within their institution.
                                Users must comply with additional terms and conditions of use set by the data publisher. 
                                Where these exist they will be available through the metadata associated with the data (see <a href="http://data.gbif.org/datasets/" target="_blank">http://data.gbif.org/datasets/</a>).
                            </p>
                            <p>
                                <b>2. Citing Data</b>
                            </p>
                            <p>
                                Use the following format to cite data retrieved from BISON:
                            </p>
                            <p>
                                <em>[Data Provider or owner name]. [Resource or Dataset Name] published by [Data Provider name, address or affiliation(s)] (Accessed through Biodiversity Information Serving Our Nation (BISON), https://bison.usgs.gov,  YYYY-MM-DD)</em>
                            </p>
                            <p>
                                <strong>
                                    <em>For</em>
                                </strong>
                                <strong>
                                    <em> example:</em>
                                </strong>
                                <br>
                                <em>Field Museum of Natural History.  U.S. Bird Occurrences published by Field Museum of Natural History, </em>
                                <em>Museum of Vertebrate Zoology, University of Washington Burke Museum, and</em>
                                <em> University of Turku (Accessed through Biodiversity Information Serving Our Nation (BISON), https://bison.usgs.gov, 2007-02-22)</em>
                            </p>
                            <p>
                                <em>Or</em>
                            </p>
                            <p>
                                <em>Gordon, J. U.S. Bird Occurrences published by Field Museum of Natural History,</em>
                                <em> Museum of Vertebrate Zoology, University of Washington Burke Museum, and </em>
                                <em>University of Turku (Accessed through Biodiversity Information Serving Our Nation (BISON), https://bison.usgs.gov, 2007-02-22)</em>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- END Page Content -->
    </body>
</html>
