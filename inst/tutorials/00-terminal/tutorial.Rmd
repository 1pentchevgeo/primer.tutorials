---
title: "Terminal"
tutorial:
  id: "terminal"
output:
  learnr::tutorial:
      progressive: true
      allow_skip: true
runtime: shiny_prerendered
description: "Terminal Tutorial"
---

```{r setup, include = FALSE}
library(learnr)
library(primer.tutorials)
library(tidyverse)
library(png)
library(grid)
knitr::opts_chunk$set(echo = FALSE)
options(tutorial.exercise.timelimit = 60, 
        tutorial.storage = "local") 
```

## Information
###

```{r information}
quiz(caption = "",
  question_text(
    "Name:",
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL),
  question_text(
    "Email:",
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL))
```

## Introduction
###

The Terminal pane is next to the Console pane in the lower left portion of RStudio. We use the Console pane to talk to R. We use the Terminal pane to talk directly with the computer. Sadly, the Console and the Terminal speak different languages.

### Excercise 1

The fresh terminal should have a string characters ending in a $ before your cursor. This is called the **prompt** and we type all commands after it. After a command has been executed, a prompt will be generated on a new line to let you know terminal is ready for a new command.Hit return a few times to see what happens to the prompt. Copy/paste the result.

```{r term-ex-1}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

### Exercise 2

Let's figure out where we are. To see your current location, type `pwd` (**p**resent **w**orking **d**irectory) in the Terminal. Hit return, and copy/paste both the line on which you typed the command and the line below it. Notice the how  the last directory (folder) in the **path** is included in the prompt.


```{r term-ex-2}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

This is the standard manner in which you will answer tutorial questions which use the command line. Your pasted answer should look like this:

```{r}
file <- paste0(system.file("images/", 
                           package = "primer.tutorials"),
               "pwd.png")
img <- readPNG(file)
grid.raster(img)
```

(You can include or not the prompt which follows the response to your command at your own discretion.)

Again, you paste in both the line with the command you issued and the result of that command. If the question asked you to issue two commands, then copy/paste them both. 

### Exercise 3

Type `ls` (list) in the terminal and hit return to see all the items that are located in the directory in which you are currently located. 

```{r term-ex-3}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

### Exercise 4

Let's make a folder called `Gov-1005`. Type the command `mkdir Gov-1005` and hit return. Now type `ls` to see your newly created folder! 
 
```{r term-ex-4}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

### Exercise 5

Type in the command `cd Gov-1005` in order to **c**hange **d**irectories into the directory which we just created. There should not be anything in this directory. Type `ls` to be sure. Notice the change to the prompt after changing directories.

```{r term-ex-5}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

### Exercise 6

Let's now create a file. Type in `touch text.txt`and hit return. Now type `ls`. `touch` creates the file but does nothing else.

```{r term-ex-6}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

### Exercise 7

Let's change the name of `text.txt` to `my.text`. This is done with the `mv` command. (`mv` stands for **m**o**v**e.) First, type `ls` to confirm the existence of `text.txt`. Second, type `mv text.txt my.text`. Third, type `ls` to demonstrate that the renaming has worked. The (lack of) content in the file has not changed. 

```{r term-ex-7}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

Your pasted code should look something like:

```{r}
file <- paste0(system.file("images/", 
                           package = "primer.tutorials"),
               "mv.png")
img <- readPNG(file)
grid.raster(img)
```

### Exercise 8

Now let's try deleting `my.text`. First, type `ls` to confirm it is there. Second, type with `rm my.text`. (`rm` stands for "remove.") Third, type `ls` to make sure the file is gone.


```{r term-ex-8}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 4))
```

## Tour 1 
###

How do we work in directories outside of the present working directory?

### Excercise 1

When working in R Studio, the default pwd will be the one in which your R project (.Rproj) is located. In the introduction we changed directories with the command `cd` and an **argument** which specified the directory inside the pwd to which we wanted to change. Type `cd` alone, without an argument. This will bring us to the computer's home directory, the directory that contains all the files on the computer that belong to the current user.

```{r term1-ex-1}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

`cd` without an argument will bring us to the home directory. Notice that the prompt has shortened to only the name of the user and the $. The home directory always ends  the prompt.

### Excercise 2 

Let's to the Gov-1005 directory we made earlier. First, use `ls` to view the folders in the home directory. You should see familiar folder names that are used to organize files on most computers (Desktop, Downloads, etc.). Copy/paste the result. 

```{r term1-ex-2}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

Do you know which one contains the folder where you save your R projects?

### Excercise 3

`ls` can take an argument. Type `ls Desktop` if you know your R project folder is somewhere in the Desktop. This will list all the items in the Desktop folder.  Do this for the folder where your R project folder is located. Copy/paste the result.

```{r term1-ex-3}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

Do you know which one contains the folder where you save your R projects?

### Excercise 4

Continue to look for your R project folder. If the folder is inside the folder whose contents we listed in exercise 3, type `ls Desktop/r-project-folder-name`. This should return a list of folders containing all your  R projects. If your R project folder is nested inside of another folder within the folder from exercise 3, type `ls Desktop/next-folder-name` to find the name of the R project folder and then type `ls Desktop/next-folder-name/r-project-folder-name`. If your R project folder is nested inside of still more folders, repeat these steps for each folder until you have a list of folders containing all your  R projects.

```{r term1-ex-4}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

Nice work. It is a good thing to have an idea of where things are saved. 

### Excercise 5

You should now have a path starting with a folder in your home directory and ending with the folder with your R projects. Find the name of the R project we were in. You will add this directory to your path and use this as an argument for `cd`. The command should look something like this `cd Desktop/r-project-folder-name/r-project-folder`. Notice that this path will be the same as the progression of folders you see at the top of the RStudio file pane (file pane is in the lower-right corner). 

```{r term1-ex-5}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

We are back at our original starting point. Check to see that the prompt has changed. 

### Excercise 6

Now, change to the `Gov-1005` directory just as we did in the introduction. 

```{r term1-ex-6}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

Nice!

### Excercise 7

Though they are of different lengths, the arguments of `cd` in Exercise 5 and Exercise 6 are both paths for directories within our pwd and so we call them relative paths. Both paths have an assumed starting point of the pwd. In Exercise 1, we used the default setting for `cd` to change to a directory outside of the pwd. The shorthand `.` is another way to represent your pwd. The shorthand `..` represents the directory one above your pwd (the folder which contains it). Change your directory back to the folder for the R-project, by typing `cd ..`. 

```{r term1-ex-7}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```
 
The prompt should be the same as it was before Exercise 6. 

### Excercise 8

To refer to a directory outside the pwd that is neither the home directory nor the directory immediately above, we must use the absolute path, which gives the file path from the root directory. The root directory is represented by an initial `/`. Let's move my.text to the Desktop folder. The first argument will be the relative path for my.text.txt. The second argument will be the absolute path of the new location, `/Users/user-name/Desktop/my.text.txt`. 
```{r term1-ex-8}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

Nice! Note that we could have written the path for the new location without `/my.text.txt`. `mv` will create a file of the same name in the destination folder by default. 

### Excercise 9

We have now moved the file outside are pwd. To check if it is working we can use `ls` as before, but we have to use the absolute path. As you can guess, the path `/Users/user-name/...` will be frequently used and so the following shorthand is used `~/...`. Type `ls ~/Desktop` to check whether made it to the desktop. 

```{r term1-ex-9}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

Was it there? Nice!

### Excercise 10

We forgot to move the `Gov-1005` folder and we don't know how. Though we will get to that later, for now move `my.text.txt` back to the `Gov-1005` folder in the home directory. While we are moving the folder, let us change the name of the file to `fake.txt` The first argument will be the absolute path for its current location in the desktop, the second argument will be the relative path with the new name. 

```{r term1-ex-10}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

Nice! Moving something from a place outside the home directory like Desktop into the home directory where our R project lives is a  common command. 

## Submit

```{r context = "setup"}
submission_ui
```

```{r context = "server"}
submission_server()
```

