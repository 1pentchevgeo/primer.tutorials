---
title: "Visualization: Case Studies"
tutorial:
  id: "visualization-case_studies"
output: 
  learnr::tutorial:
    progressive: true
    allow_skip: true
runtime: shiny_prerendered
description: "Maps and other case studies."
---


```{r setup, include = FALSE}
library(learnr)
library(primer.tutorials)
library(tidyverse)
library(primer.data)
library(socviz)
library(ggthemes)
knitr::opts_chunk$set(echo = FALSE)
options(tutorial.exercise.timelimit = 60, 
        tutorial.storage = "local") 
```

```{r copy-code-chunk, child = "../../child_documents/copy_button.Rmd"}
```

```{r info-section, child = "../../child_documents/info_section.Rmd"}
```
<!-- Maybe use 5 or 6 of these plots: -->
<!-- https://www.cedricscherer.com/slides/RLadiesTunis-2021-favorite-ggplot-extensions.pdf -->
<!-- Although we may need to simplify them so that they don't require 30 Exercises. You will often need to find the code elsewhere, often at the Github repo for the package. Example: https://github.com/davidsjoberg/ggstream. I think the movie type graphic works well. -->
### The US Life Expectancy Gap

We will be making this plot here. 

```{r make-plot-1, fig.width = 10, include = FALSE}
final_plot <- ggplot(data = oecd_sum,
            mapping = aes(x = year, y = diff, fill = hi_lo)) +
      geom_col() + 
      guides(fill = FALSE) +
      theme_minimal() +
      labs(x = NULL, 
           y = "Difference in Years",
           title = "The US Life Expectancy Gap",
           subtitle = "Difference between US and OECD average life expectancies,\n1960-2015",
           caption = "Data: OECD. After a chart by Christopher Ingraham,\nWashington Post, December 27th 2017.") +
      theme(plot.title = element_text(family = "serif",
                                      face = "bold",
                                      size = 20,
                                      margin = margin(b = 10))) +
      theme(plot.subtitle = element_text(family = "serif",
                                         face = "italic",
                                         size = 15,
                                         margin = margin(b = 10))) +
      theme(plot.caption = element_text(family = "serif",
                                        face = "italic",
                                        margin = margin(t = 5))) +
      theme(axis.title.y = element_text(family = "serif",
                                        face = "bold")) +
      theme(axis.text = element_text(family = "serif",
                                     face = "bold"))
final_plot
```

### Exercise 1

We will first explore the data set we will be using for the first graph. Run `oecd_sum` in the code chunk below.

```{r oecd-ex-1, exercise = TRUE}

```

```{r oecd-ex-1, eval = FALSE}
oecd_sum
```

###

The data set is from the Organisation for Economic Co-operation and Development, otherwise known as OECD. 

### Exercise 2

We will explore the `oecd_sum` data set further. Go onto this website [here](https://kjhealy.github.io/socviz/reference/oecd_sum.html). Read what each column in the tibble represents, and copy and paste your answers below.

```{r oecd-ex-2}
  question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

###

This dataset focuses specifically on the USA in relation to OECD stats.

### Exercise 1

We will first explore the data set we will be using for the first graph. Run `oecd_sum` in the code chunk below.

```{r oecd-ex-1, exercise = TRUE}

```

```{r oecd-ex-1, eval = FALSE}
oecd_sum
```


```{r download-answers, child = "../../child_documents/download_answers.Rmd"}
```
