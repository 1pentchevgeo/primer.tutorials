---
title: "Probability A"
tutorial:
  id: "probability-a"
output: 
  learnr::tutorial:
    progressive: true
    allow_skip: true
runtime: shiny_prerendered
description: "Chapter 5 tutorial Part A"
---


```{r setup, include = FALSE}
library(learnr)
library(primer.tutorials)
library(tidyverse)
library(primer.data)
library(png)
library(grid)
knitr::opts_chunk$set(echo = FALSE)
options(tutorial.exercise.timelimit = 60, 
        tutorial.storage = "local") 

joint_dist <- tibble(in_bag = rep(c(0, 1, 2), 1000)) %>%
  mutate(in_sample = map_int(in_bag, ~ rbinom(n = 1, 
                                              size = 3, 
                                              p = ./2))) 
```

```{r copy-code-chunk, child = "../../child_documents/copy_button.Rmd"}
```

```{r info-section, child = "../../child_documents/info_section.Rmd"}
```


<!-- Createing a mathematical distribution is a bad idea because it is hard to understand where it comes from and what it means. More importantly, why not just do the empirical data plot? This is always better. -->

<!-- There is a ton of useful things to teach people. Drop two sentences of (relevant!) knowledge after (almost?) every question. -->

<!-- scale_x and friends. There is a lot going on here.  -->

<!-- Do more than skim: https://socviz.co/. See all the cool plots. Certainly, the existence of this book is a great two sentence bit of knowledge. -->

<!-- Do not make mathematica or posterior plots for coin and dice at least.  -->

<!-- For flipping a coin and dice and height, walk through the steps of making the empirical plots in the book. -->


## Flipping a coin 
###


Let's create the following *mathematical distribution* of flipping a coin. *Mathematical distribution* is assuming the coin is perfectly fair, that is we get the exact same numbers of heads and tails while flipping the coin. 

```{r}
math_p <- tibble(results = c(rep(0, 50),rep(1, 50))) %>%
ggplot(aes(x = results)) +
  geom_histogram(aes(y = after_stat(count/sum(count))), 
                 binwidth = 0.5, 
                 color = "white") +
  labs(title = "Mathematical Probability Distribution",
       subtitle = "Expectations for flipping a fair coin",
       x = "Outcome\nResult of Coin Flip",
       y = "Probability") +
  scale_x_continuous(breaks = c(0, 1), 
                     labels = c("Heads", "Tails")) +
  scale_y_continuous(labels =
                      scales::percent_format(accuracy = 1)) +
  theme_classic()

math_p
```

### Exercise 1
In order to create this model we need to understand it first. *Mathematical Probability Distribution*  $p_h = p_t = 0.5$ that is when we assume that we toss a perfectly fair coin, it should theoretically have equal chances heads and tails when we tossed the coin.We start by makinbg a tibble, and within the tibble we use the rep functions where we repeat "0" 50 times, and "1" 50 times and assign this to a variable name "results" within the `tibble()` function.


```{r fac-1, exercise = TRUE}

```

```{r fac-1-hint-1, eval = FALSE}
tibble(... = c(rep(..., ...),rep(..., ...)))
```

```{r fac-1-hint-2, eval = FALSE}
tibble(results = c(rep(0, 50),rep(1, 50)))
```

### Exercise 2

Pipe your results to `ggplot()`. Map `results` to the x-axis. Also add the layer `geom_histogram()`. 

```{r fac-2, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

```{r fac-2-hint-1, eval = FALSE}
... %>% 
  ggplot(mapping = aes(...) + 
  geom_histogram()
```


### Exercise 3

Within `geom_histogram()`, use `after_stat()` . Inside `after_stat()`, use `aes()` with the argument `y = count/sum(count)` to put percents on the y-axis.

```{r fac-3, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>

```{r fac-3-hint, eval = FALSE}
... +
    geom_histogram(aes(y = after_stat(...) 
```


### Exercise 4

Also set `binwidth` to .5 and `color` to "white" within `geom_histrogram()`.

```{r fac-4, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>

### Exercies 5

Now use `scale_x_continuous()` so the x-axis has `breaks` at 0 and 1. Set the `labels` for the breaks as "Heads" and "Tails", respectively. 


```{r fac-5, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>

```{r fac-5-hint-1, eval = FALSE}
Use the c() function for specifying the breaks and labels.
```

```{r fac-5-hint-2, eval = FALSE}
... + 
  scale_x_continuous(breaks = c(..., ...),
                     labels = c(..., ...))
```

### Exercise 6

Now use `scale_y_continuous()` to put the x-axis in percent format. Within `scale_y_continuous()`, set `labels` to `scales::percent_format()`. Within `percent_format()` set `accuracy` to 1.

```{r fac-6, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>

```{r fac-6-hint-1, eval = FALSE}
... + 
  scale_y_continuous(labels = scales::percent_format(...))
```

###



### Exercise 7

Finally, use `labs()` to add the appropriate title, subtitle, and axis labels. Also add the layer `theme_classic()`.

```{r face-7, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

Reminder: Your plot should look similar to the the one below. 

```{r}
math_p
```



Now,Let's create the following *empirical distribution* of flipping a fair coin. Recall, that empirical distribution is based on data therefore we need to simulated our data, that is "flipping the coin" by ourself.

```{r}
emp_p <- tibble(results = rbinom(n = 100, size = 1, prob = 0.5)) %>%
  ggplot(aes(x = results)) +
  geom_histogram(aes(y = after_stat(count/sum(count))),
                 binwidth = 0.5,
                 color = "white") +
  scale_x_continuous(breaks = c(0, 1),
                     labels = c("Heads", "Tails")) +
  scale_y_continuous(labels =
                      scales::percent_format(accuracy = 1)) +
  labs(title = "Mathematical Probability Distribution",
       subtitle = "Expectations for flipping a fair coin",
       x = "Outcome\nResult of Coin Flip",
       y = "Probability") +
  theme_classic()

emp_p
```

### Exercise 8

Let's simulate a fair coin, i.e. $p_h = p_t = 0.5$. To do so, use the function `rbinom()`. Recall `rbinom()` is used to draw from a binomial distribution (when there are only two possible outcomes). Within `rbinom()`, set `n` to 100, `size` to 1, and `prob` to .5.  Again we set the probability to 50% because we drawn our data from the population of "fair coin", keep in mind of this concept, because it will shows up throughout this chapter and later chapters.

```{r fac-8, exercise = TRUE}

```

```{r fac-8-hint-1, eval = FALSE}
rbinom(... , ..., ....)
```

```{r fac-8-hint-2, eval = FALSE}
rbinom(n = ..., size = ..., prob = ....)
```

### Exercise 9

Create a `tibble()` with one variable `results` . Have `results` take on the values of the `rbinom()` code in the previous exercise.  

```{r fac-9, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>

```{r fac-9-hint-1, eval = FALSE}
tibble(... = rbinom(..., ..., ...))
```

### Exercise 10

Pipe your results to `ggplot()`. Map `results` to the x-axis. Also add the layer `geom_histogram()`. 

```{r fac-10, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>

```{r fac-10-hint-1, eval = FALSE}
... %>% 
  ggplot(mapping = aes(...) + 
  geom_histogram()
```

### Exercise 11

Within `geom_histogram()`, use `after_stat()` . Inside `after_stat()`, use `aes()` with the argument `y = count/sum(count)` to put percents on the y-axis.

```{r fac-11, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>

```{r fac-11-hint, eval = FALSE}
... +
    geom_histogram(aes(y = after_stat(...) 
```

### Exercise 12

Also set `binwidth` to .5 and `color` to "white" within `geom_histrogram()`.

```{r fac-12, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>

### Exercies 13

Now use `scale_x_continuous()` so the x-axis has `breaks` at 0 and 1. Set the `labels` for the breaks as "Heads" and "Tails", respectively. 


```{r fac-13, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>

```{r fac-13-hint-1, eval = FALSE}
Use the c() function for specifying the breaks and labels.
```

```{r fac-13-hint-2, eval = FALSE}
... + 
  scale_x_continuous(breaks = c(..., ...),
                     labels = c(..., ...))
```

### Exercise 14

Now use `scale_y_continuous()` to put the x-axis in percent format. Within `scale_y_continuous()`, set `labels` to `scales::percent_format()`. Within `percent_format()` set `accuracy` to 1.

```{r fac-14, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>

```{r fac-14-hint-1, eval = FALSE}
... + 
  scale_y_continuous(labels = scales::percent_format(...))
```

### Exercise 15

Finally, use `labs()` to add the appropriate title, subtitle, and axis labels. Also add the layer `theme_classic()`.

```{r face-15, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>

Reminder: Your plot should look similar to the the one below. **Note**: the height of the bars will vary because our `rbinom()` statements generate different proportions every time! 

```{r}
emp_p
```

###

Awesome! Remember, if were to increase the number of trials in our simulation, the empirical distribution would look more level like the mathematical distribution.

###

Let's now create the following *posterior distribution* of flipping a coin. Recall that *posterior distribution* is based on believe, and this believe usually is because of certain externanal change in information or assumption.For example, when your friends shows up, and says that he/she/they want's to bet with you on heads, or the same thing happened on a cansino, you might get suspicious, and in that case, we no longer can pull our data from the population of "fair coin", we now get the population from "crooked coin", and this might cause us to think differently about the probability about the coin landing on heads.

```{r}
post_p <- tibble(results = c(rep(0, 95),
                   rep(1, 5))) %>% 
ggplot(aes(x = results)) +
  geom_histogram(aes(y = after_stat(count/sum(count))), 
                 binwidth = 0.5, 
                 color = "white") +
  labs(title = "Posterior Probability Distribution",
       subtitle = "Your beliefs about flipping one coin to bet your friend",
       x = "Outcome\nResult of Coin Flip",
       y = "Probability") +
  scale_x_continuous(breaks = c(0, 1), 
                     labels = c("Heads", "Tails")) +
  scale_y_continuous(labels = 
                       scales::percent_format(accuracy = 1)) +
  theme_classic()

post_p

```


### Exercise 16
Suppose that $\rho_h$ is 0.95 and $\rho_t$ is 0.05. Create a `tibble()` with one variable `results` . Have `results` set to the `c()` function with the arguments `rep(0, 95)` and `rep(1, 5)`.

```{r fac-16, exercise = TRUE}

```

```{r fac-16-hint-1, eval = FALSE}
tibble(results = c(rep(...),
                   rep(...)))
```

### Exercise 17

Pipe your results to `ggplot()`. Map `results` to the x-axis. Also add the layer `geom_histogram()`. 

```{r fac-17, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>

```{r fac-17-hint-1, eval = FALSE}
... %>% 
  ggplot(mapping = aes(...)) + 
  geom_histogram()
```

### Exercise 18

Within `geom_histogram()`, use `aes()` . Inside `aes()`, use `after_stat()` with the argument `y = count/sum(count)` to put percents on the y-axis.

```{r fac-18, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>

```{r fac--hint, eval = FALSE}
... +
    geom_histogram(aes(y = after_stat(...))
```

### Exercise 19

Also set `binwidth` to .5 and `color` to "white" within `geom_histrogram()`.

```{r fac-19, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>

### Exercies 20

Now use `scale_x_continuous()` so the x-axis has `breaks` at 0 and 1. Set the `labels` for the breaks as "Heads" and "Tails", respectively. 


```{r fac-20, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

```{r fac-20-hint-1, eval = FALSE}
Use the c() function for specifying the breaks and labels.
```

```{r fac-20-hint-2, eval = FALSE}
... + 
  scale_x_continuous(breaks = c(..., ...),
                     labels = c(..., ...))
```

### Exercise 21

Now use `scale_y_continuous()` to put the y-axis in percent format. Within `scale_y_continuous()`, set `labels` to `scales::percent_format()`. Within `percent_format()` set `accuracy` to 1.

```{r fac-21, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>

```{r fac-21-hint-1, eval = FALSE}
... + 
  scale_y_continuous(labels = scales::percent_format(...))
```

### Exercise 22

Finally, use `labs()` to add the appropriate title, subtitle, and axis labels. Also add the layer `theme_classic()`.

```{r face-22, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

Reminder: This is what your plot should look like.

```{r}
post_p
```


## Three Models 
###

Let's create the following *joint distribution* of the number of white marbles in a bag and the number of white marbles pulled out in the sample.

```{r}
joint_p <- joint_dist %>%
  ggplot(aes(x = in_sample, y = in_bag)) +
    geom_jitter(alpha = 0.5) +
    labs(title = "Black and White Marbles",
         subtitle = "More white marbles in bag mean more white marbles selected",
         x = "White Marbles Selected",
         y = "White Marbles in the Bag") +
    scale_y_continuous(breaks = c(0, 1, 2)) +
  theme_classic()

joint_p
```

### Exercise 1

Create a `tibble()` with one variable `in_bag`. Have `in_bag` take on the values of `rep()`. Within `rep()` use the arguments 0, 1, and 2. 

```{r tm-1, exercise = TRUE}

```

```{r tm-1-hint-1, eval = FALSE}
tibble(in_bag = rep(c(..., ..., ...)))
```

Great. We now have generated the number of white marbles that exist in our bag. 

### Exercise 2

Great. Let's have our code run 1000 times. Add the argument 1000 to `rep()`

```{r tm-2, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>


```{r tm-2-hint-1, eval = FALSE}
 tibble(in_bag = rep(c(0, 1, 2), ...))
```

### Exercise 3

Pipe your results to `mutate()` to create the variable `in_sample`. Set `in_sample` to the function `map_int()`. The first argument to `map_int()` should be `in_bag`. The second argument should be an `rbinom()` where `n` is set to 1, `size` is set to 3, and `p` is set to `./2`.

```{r tm-3, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>

```{r tm-3-hint-1, eval = FALSE}
 ... %>% 
  mutate(in_sample = map_int(..., ~ rbinom(..., 
                                           ..., 
                                           ...)))
```

### Exercise 4

Copy/paste your code from above. Assign in to the object `joint_dist`.

```{r tm-4, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>

```{r tm-4-hint-1, eval = FALSE}
 joint_dist <- ...
```

### Exercise 5

Pipe your `joint_dist` to `ggplot()`. Map `in_sample` to the x-axis and `in_bag` to the y-axis. Also add the layer `geom_jitter()`. 

```{r tm-5, exercise = TRUE}

```


<button onclick = "transfer_code(this)">Copy previous code</button>


```{r tm-5-hint-1, eval = FALSE}
joint_dist %>% 
  ggplot(aes(x = ..., y = ...)) +
    geom_jitter()
```

### Exercise 6

Set `alpha` to .5 within `geom_jitter()`. 

```{r tm-6, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>


```{r tm-6-hint-1, eval = FALSE}
... +
    geom_jitter(...)
```

### Exercise 7

Now use `scale_y_continuous()` to break the y-axis into three values. Within `scale_y_continuous()`, set `breaks` to 0, 1, and 2.

```{r tm-7, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

```{r tm-7-hint-1, eval = FALSE}
... + 
  scale_y_continuous(breaks = c(..., ..., ...)
```

Why do we do this? Each value on the y-axis represents a different version or belief about the world.

### Exercise 8

Finally, use `labs()` to add the appropriate title, subtitle, and axis labels. Also add the layer `theme_classic()`.

```{r tm-8, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

Reminder: This is what your plot should look like.

```{r}
joint_p
```


```{r tm-8-hint-1, eval = FALSE}

```

### 

Awesome. We can now see the number of simulations in each "bucket." Take note that this distribution is unnormalized.

###

Let's create the following *unnormalized conditional distribution*. This is essentially a slice of the joint distribution we previously created. 

```{r}
unnorm_p <- joint_dist %>% 
  filter(in_sample == 3) %>% 
  ggplot(aes(in_bag)) +
    geom_histogram(binwidth = 0.25, color = "white") +
    labs(title = "Unnormalized Conditional Distribution",
         subtitle = "Number of white marbles in bag given that three were selected in the sample",
         x = "Number of White Marbles in the Bag",
         y = "Count") +
    scale_x_continuous(breaks = seq(1, 2)) +
    theme_classic()

unnorm_p
```

### Exercise 9

`filter()` `joint_dist` for where `in_sample` is equal to 3.

```{r tm-9, exercise = TRUE}

```

```{r tm-9-hint-1, eval = FALSE}
joint_dist %>% 
  filter(in_sample == ...)
```

### Exercise 10

Pipe your code above to `ggplot()`. Map `in_bag` to the x-axis. Also add the layer `geom_histogram()`.

```{r tm-10, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

```{r tm-10-hint-1, eval = FALSE}
... %>% 
  ggplot(aes(...)) +
  geom_histogram()
```

### Exercise 11 

Set `binwidth` to .25 and `color` to "white" within `geom_histogram()`.

```{r tm-11, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

```{r tm-11-hint-1, eval = FALSE}
... +
  geom_histogram(..., ...)
```

### Exercise 12

Now use `scale_x_continuous()`. Set `breaks` to `seq()` that contains the values 1 and 2.

```{r tm-13, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

```{r tm-13-hint-1, eval = FALSE}
... +
  scale_x_continuous(... = seq(..., ...))
```

### Exercise 13

Finally, use `labs()` to add the appropriate title, subtitle, and axis labels. Also add the layer `theme_classic()`.

```{r tm-14, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

Reminder: This is what your plot should look like.

```{r}
unnorm_p
```

### 

Let's create the following *normalized conditional distribution*. In other words, we are normalizing the graph we just created.

```{r}
norm_p <- joint_dist %>% 
  filter(in_sample == 3) %>% 
  ggplot(aes(in_bag)) +
    geom_histogram(aes(y = after_stat(count/sum(count))), 
                   binwidth = 0.25, 
                   color = "white") +
    labs(title = "Posterior Probability Distribution",
         subtitle = "Number of white marbles in bag given that three were selected in the sample",
         x = "Number of White Marbles in the Bag",
         y = "Probability") +
    scale_x_continuous(breaks = c(1, 2)) +
    scale_y_continuous(labels = 
                         scales::percent_format(accuracy = 1)) +
    theme_classic()

norm_p
```

### Exercise 14

We begin our code the same way we began our code for the *unnormalized conditional distribution*. We have provided the code for you below. To begin, add the `after_stat()` argument to `geom_histogram()`. Within `after_stat()`, use `aes()` with the argument `y = count/sum(count)` to put percents on the y-axis.


```{r tm-15, exercise = TRUE}
 joint_dist %>% 
  filter(in_sample == 3) %>% 
  ggplot(aes(in_bag)) +
    geom_histogram(binwidth = 0.25, color = "white")
```

```{r tm-15-hint-1, eval = FALSE}
... +
  geom_histogram(binwidth = 0.25, color = "white", ...)
```

### Exercies 15

Now use `scale_x_continuous()` so the x-axis has `breaks` at 1 and 2.

```{r tm-16, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

```{r tm-16-hint-1, eval = FALSE}
Use the c() function for specifying the breaks and labels.
```

```{r tm-16-hint-2, eval = FALSE}
... + 
  scale_x_continuous(breaks = c(..., ...))
```

### Exercise 16

Now use `scale_y_continuous()` to put the y-axis in percent format. Within `scale_y_continuous()`, set `labels` to `scales::percent_format()`. Within `percent_format()` set `accuracy` to 1.

```{r tm-17, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

```{r tm-17-hint-1, eval = FALSE}
... + 
  scale_y_continuous(labels = scales::percent_format(...))
```

### Exercise 17

Finally, use `labs()` to add the appropriate title, subtitle, and axis labels. Also add the layer `theme_classic()`.

```{r tm-18, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

Reminder: This is what your plot should look like.

```{r}
norm_p
```

## N Models 
###

Let's create the following *empirical distribution* for possible simulations for $\rho_h$. In other words, we will create a joint distribution of models which might be true and of data which our experiment might generate. 

```{r}
x <- tibble(p = rep(seq(0, 1, 0.1), 1000)) %>%
  mutate(heads = map_int(p, ~ rbinom(n = 1, size = 20, p = .)))

emp_p <- x %>%
  ggplot(aes(y = p, x = heads)) +
    geom_jitter(alpha = 0.1) +
    labs(title = "Empirical Distribution of Number of Heads",
         subtitle = expression(paste("Based on simulations with various values of ", rho[h])),
         x = "Number of Heads out of 20 Tosses",
         y = expression(rho[h])) +
  scale_y_continuous(breaks = seq(0, 1, 0.1)) +
  theme_classic()

emp_p
```

### Exercise 1

Use `tibble()` with one variable `p` set to the function `rep()`. Within `rep()` use the argument `seq()` that takes on the values 0, 1, and .1.

```{r nm-1, exercise = TRUE}

```

```{r nm-1-hint-1, eval = FALSE}
tibble(...= rep(c(..., ..., ...)))
```

### Exercise 2

Great. Let's have our code run 1000 times. Add the argument 1000 to `rep()`

```{r nm-2, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

```{r nm-2-hint-1, eval = FALSE}
 tibble(p = rep(c(0, 1, .1), ...))
```

### Exercise 3

Pipe your code to the function `mutate()` to create the variable `heads`. Set `heads` to the function `map_int()`. The first argument to `map_int()` should be `p`. The second argument should be an `rbinom()` where `n` is set to 1, `size` is set to 20, and `p` is set to `.`.

```{r nm-3, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

```{r nm-3-hint-1, eval = FALSE}
 ... %>% 
  mutate(p = map_int(..., ~ rbinom(...,
                                   ..., 
                                   ...)))
```

### Exercise 4

Copy/paste your code above. Assign your code to an object named `x`.

```{r nm-4, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

```{r nm-4-hint-1, eval = FALSE}
x <- ...
```

### Exercise 5

Pipe `x` to `ggplot()`. Map `heads` to the x-axis and `p` to the y-axis. Also add the layer `geom_jitter()`. 

```{r nm-5, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

```{r nm-5-hint-1, eval = FALSE}
x %>% 
  ggplot(aes(x = ..., y = ...)) +
    geom_jitter()
```

### Exercise 6

Set `alpha` to .1 within `geom_jitter()`. 

```{r nm-6, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

```{r nm-6-hint-1, eval = FALSE}
... +
  geom_jitter(...)
```

### Exercise 7

Now use `scale_y_continuous()`. Set `breaks` to the function `seq()` that contains the values 0, 1, and .1.

```{r nm-7, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

```{r nm-7-hint-1, eval = FALSE}
... + 
  scale_y_continuous(breaks = seq(..., ..., ...)
```

### Exercise 8

Finally, use `labs()` to add the appropriate title, subtitle, and axis labels. Also add the layer `theme_classic()`.

```{r nm-8, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

Reminder: This is what your plot should look like.

```{r}
emp_p
```

###

Let's create the following *unnormalized conditional distribution*. This is essentially a slice of the joint distribution we previously created. 

```{r}
unnorm_p <- x %>% 
  filter(heads == 8) %>% 
  ggplot(aes(p)) +
    geom_bar() +
    labs(title = expression(paste("Values of ", rho[h], " Associated with 8 Heads")),
         x = expression(paste("Assumed value of ", rho[h], " in simulation")),
         y = "Count") +
  theme_classic()

unnorm_p
```

### Exercise 9

`filter()` `x` for where `heads` is equal to 8.

```{r nm-9, exercise = TRUE}

```

```{r nm-9-hint-1, eval = FALSE}
x %>% 
  filter(heads == ...)
```

### Exercise 10

Pipe your code above to `ggplot()`. Map `p` to the x-axis.  Also add the layer `geom_bar()`.

```{r nm-10, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

```{r nm-10-hint-1, eval = FALSE}
... %>% 
  ggplot(aes(...)) +
  geom_histogram()
```

### Exercise 11

Finally, use `labs()` to add the title "Values of P(h) with 8 Heads". Then label your x-axis "Assumed value of P(h) in simulation". Also add the layer `theme_classic()`.

```{r nm-11, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

Reminder: This is what your plot should look like.

```{r}
unnorm_p
```


###

Let's create the following *normalized conditional distribution*. In other words, we are normalizing the graph we just created.

```{r}
norm_p <- x %>% 
  filter(heads == 8) %>% 
  ggplot(aes(x = p)) +
    geom_histogram(aes(y = after_stat(count/sum(count))),
                   bins = 50) + 
    labs(title = expression(paste("Posterior Probability Distribution of ", rho[h])),
         x = expression(paste("Possible values for ", rho[h])),
         y = "Probability") +
    scale_x_continuous(breaks = seq(0.2, 0.7, by = 0.1)) +
    scale_y_continuous(labels = 
                        scales::percent_format(accuracy = 1)) +
  theme_classic()

norm_p

```

### Exercise 12

We begin our code the same way we began our code for the *unnormalized conditional distribution*. We have provided the code for you below. To begin, add the layer `geom_histogram()` and set `bins` to 50.


```{r nm-12, exercise = TRUE}
x %>% 
  filter(heads == 8) %>% 
  ggplot(aes(x = p))
```

```{r nm-12-hint-1, eval = FALSE}
... +
  geom_histogram(...)
```

### Exercise 13

Within `geom_histogram()`, use `after_stat()` . Inside `after_stat()`, use `aes()` with the argument `y = count/sum(count)` to put percents on the y-axis.

```{r nm-13, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

```{r nm-13-hint-1, eval = FALSE}

```

### Exercise 14

Now use `scale_x_continuous()`. Set `breaks` to `seq()` that contains the values 0.2 and 0.7. Also set `by` to 0.1 within `seq()`.

```{r nm-14, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

```{r nm-14-hint-1, eval = FALSE}
... +
  scale_x_continuous(... = seq(..., ..., ...))
```

### Exercise 15

Now use `scale_y_continuous()` to put the y-axis in percent format. Within `scale_y_continuous()`, set `labels` to `scales::percent_format()`. Within `percent_format()` set `accuracy` to 1.

```{r nm-15, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>


```{r nm-15-hint-1, eval = FALSE}
... + 
  scale_y_continuous(labels = scales::percent_format(...))
```



### Exercise 16

Finally, use `labs()` to add the title "Posterior Probability Distribution of P(h)". Then label your x-axis "Possibility values for P(h)" and y-axis "Probability". Also add the layer `theme_classic()`.


```{r nm-16, exercise = TRUE}

```

<button onclick = "transfer_code(this)">Copy previous code</button>

Reminder: This is what your plot should look like.

```{r}
norm_p
```

## Summary

### Exercise 1

In your own words, give a one sentence definition for *mathematical distribution*.

```{r def-ex-1}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

###

```{r potential-image-answer}
file <- system.file("images/potential_outcome_def.PNG", 
                           package = "primer.tutorials")
img <- readPNG(file)
grid.raster(img)
```



### Exercise 2

In your own words, give a one sentence definition for *empirical distribution*.

```{r def-ex-2}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

###

<!-- Add you answer. -->

### Exercise 3

In your own words, give a one sentence definition for *posterior distribution*.

```{r def-ex-3}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

###

<!-- Add you answer. -->


### Exercise 4

In your own words, give a one sentence definition for *Joint distribution*.

```{r def-ex-4}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

###

<!-- Add you answer. -->


### Exercise 5

In your own words, give a one sentence definition for *Joint Distribution*.

```{r def-ex-5}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

###

<!-- Add you answer. -->


### Exercise 6

In your own words, give a one sentence definition for *Conditional Probability*.

```{r def-ex-6}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

### Challenge

In your own words, give a one sentence definition for *Population*.

```{r def-ex-7}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

```{r download-answers, child = "../../child_documents/download_answers.Rmd"}
```
