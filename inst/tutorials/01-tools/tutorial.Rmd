---
title: "Tools"
tutorial:
  id: "tools"
output:
  learnr::tutorial:
      progressive: true
      allow_skip: true
runtime: shiny_prerendered
description: "Tools Tutorial"
---

```{r setup, include = FALSE}
library(learnr)
library(primer.tutorials)
library(tidyverse)
library(png)
library(grid)
knitr::opts_chunk$set(echo = FALSE)
options(tutorial.exercise.timelimit = 60, 
        tutorial.storage = "local") 
```

<!-- ```{bash, echo = TRUE} -->
<!-- pwd -->
<!-- ``` -->

<!-- Every exercise requires some answer from students. For example, after installing **usethis**, check the installation from the R prompt with: -->

<!-- > packageVersion("usethis") -->

<!-- The answer requires that the student paste in the resulting output. -->

<!-- 4) Should we do more, something with Github? Something with a PDF file? That would certainly get students going to the first set of Study Halls! -->

<!-- Perhaps the single biggest confusion among students is not understanding how a process can be run from two different places. This causes endless problems when students build their own Shiny App later. Run ls in one location. Move. Run it again. Different answers! What you get depends on where you are. -->

## Introduction
###

This tutorial covers material in the first three parts of the Appendix on [Tools](https://ppbds.github.io/primer/tools.html): "Working with the terminal," "Git, GitHub, and RStudio," and "PDF." You should have already read these sections and followed the instructions therein. One purpose of this section is to confirm that you have done

## Information
###

```{r information}
quiz(caption = "",
  question_text(
    "Name:",
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL),
  question_text(
    "Email:",
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL))
```

## The Terminal
###

The Terminal pane is next to the Console pane in the lower left portion of RStudio. We use the Console pane to talk to R. We use the Terminal pane to talk directly with your computer. Sadly, the Console and the Terminal speak different languages.

### Exercise 1

Let's figure out where we are. To see your current location, type `pwd` (present working directory), in the Console. Hit return, and copy/paste both the line on which you typed the command and the line below it.



```{r term-ex-1}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

This is the standard manner in which you will answer tutorial questions which use the command line. Your pasted answer should look like this:

```{r, echo = FALSE}
file <- paste0(system.file("images/", 
                           package = "primer.tutorials"),
               "pwd.png")
img <- readPNG(file)
grid.raster(img)
```

Again, you paste in both the line with the command you issued and the result of that command. If the question asked you to issue two commands, then copy/paste them both.

### Exercise 2

Type `ls` (list) in the terminal and hit return to see all the items that are located in the directory in which you are currently located. 

```{r term-ex-2}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

### Exercise 3

Let's make a folder called `Gov-1005`. Type the command `mkdir Gov-1005` and hit return. Now type `ls` to see your newly created folder! 
 
```{r term-ex-3}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

### Exercise 4

Type in the command `cd Gov-1005` in order to **c**hange **d**directories into the directory which we just created. There should not be anything in this directory. Type `ls` to be sure. 

```{r term-ex-4}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

### Exercise 5

Let's now create a file. Type in `touch text.txt`and hit return. Now type `ls`. `touch` creates the file but does nothing else.

```{r term-ex-5}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

### Exercise 6

Let's change the name of `text.txt` to `my.text`. This is done with the `mv` command. (`mv` stands for "move.") First, type `ls` to confirm the existence of `text.txt`. Second, type `mv text.txt my.text`. Third, type `ls` to demonstrate that the renaming has worked. The (lack of) content in the file has not changed. 

```{r term-ex-6}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 3))
```

Your pasted code should look something like:

```{r, echo = FALSE}
file <- paste0(system.file("images/", 
                           package = "primer.tutorials"),
               "mv.png")
img <- readPNG(file)
grid.raster(img)
```



### Exercise 7

Now let's try deleting `my.txt`. First, type `ls` to confirm it is there. Second, type with `rm my.text`. (`rm` stands for "remove.") Third, type `ls` to make sure the file is gone.


```{r term-ex-8}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 4))
```




## Git/Github
### 

Professionals use Git/Guthub to backup and distribute their work. You want to be a professional, right?

### Exercise 1

Let's check to see that you have git installed. To check, go to your Terminal and type `git --version`. Copy/paste the command and results.

```{r git-ex-1}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 1))
```


### Exercise 2

Now type `git config --global user.name "Your Name"` into the terminal. Replace "Your Name" with your name. Copy/paste both the line on which you typed the command and the line(s) below it. 

```{r git-ex-2}
question_text(NULL,
    answer(NULL, correct = TRUE),
    allow_retry = TRUE,
    try_again_button = "Edit Answer",
    incorrect = NULL,
    options = list(nrows = 1))
```


### Exercise 3

Now Type `git config --global user.mail "your@email.com"`into the terminal. Replace "your@email.com" with the email you used to sign up for GitHub. Copy/paste both the line on which you typed the command and the line(s) below it.

```{r gc-2, echo=FALSE}
question_text("copy/paste here:",
              answer(NULL, correct = TRUE),
              incorrect = "Ok",
              try_again_button = "Modify your answer",
              allow_retry = TRUE)
```


<!-- BG: here would be where we would do something with repos. is there a way we can check? -->

### Exercise 4

Now, switch out of the Terminal window into the Console window. Install the package `usethis`. Issue the command `install.packages("usethis")`.

**DO NOT** go on until you have done this.

### Exercise 5

Type `git_sitrep()` into the console. You will see a bunch of code divided into 5 sections. Copy/paste the first section under **Git config (global)**.

```{r gc-3, echo=FALSE}
question_text("copy/paste here:",
              answer(NULL, correct = TRUE),
              incorrect = "Ok",
              try_again_button = "Modify your answer",
              allow_retry = TRUE)
```

### Exercise 6

Awesome. Now copy/paste the third section under **GitHub**.

```{r gc-4, echo=FALSE}
question_text("copy/paste here:",
              answer(NULL, correct = TRUE),
              incorrect = "Ok",
              try_again_button = "Modify your answer",
              allow_retry = TRUE)
```

<!-- BG: confused about rstudioapi::readRStudioPreference(name = "load_workspace") to front of tools. -->

## PDF
###

### Exercise 1

For RStudio to make PDF files, your computer set up must be set up with a [LaTeX]. Open up your console, and install the package 'tinytex' using `install.pacakges()`. Copy/paste both the line on which you typed the command and the line(s) below it

```{r pdf, echo = FALSE}
question_text("copy/paste here:",
              answer(NULL, correct = TRUE),
              incorrect = "Ok",
              try_again_button = "Modify your answer",
              allow_retry = TRUE)
```

### Exercise 2

Now open the `tinytex` package using `library()`. Then type `search()`and paste below whatever shows up in your search box.


```{r pdf-2, echo=FALSE}
question_text("copy/paste here:",
              answer(NULL, correct = TRUE),
              incorrect = "Ok",
              try_again_button = "Modify your answer",
              allow_retry = TRUE)
```




## Submit

<!-- Some of these exercises were taken from the collection of [RStudio Primers](https://rstudio.cloud/learn/primers), a great resource for practicing your skills. -->

```{r context="setup"}
submission_ui
```

```{r context="server"}
submission_server()
```


